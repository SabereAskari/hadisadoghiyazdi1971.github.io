---
layout: persian
classes: wide rtl-layout
dir: rtl
title: "ฺฺฏููู ุชููู ุจุณุงุฒู ู ุณุฑูุฑ ุจุง ุงุฏุฑุณ  ุซุงุจุช  ุฑุงู ุงูุฏุงุฒ ฺฉูู"
permalink: /teaching//studenteffort/toolkit/localtunneling/
author_profile: true

header:
  overlay_image: "/assets/images/background.jpg"
  overlay_filter: 0.3
  overlay_color: "#5e616c"
  caption: "Photo credit: [**Unsplash**](https://unsplash.com)"
---

## ๐ ููุฑุณุช ูุทุงูุจ
- [PM2 ฺุณุชุ](#pm2-ฺุณุช)
- [ุชูุถุญุงุช tunnel.js](#ุชูุถุญุงุช-tunneljs)
- [ุฑูุด ุงุฌุฑุง](#ุฑูุด-ุงุฌุฑุง)
- [ุนุจโุงุจ](#ุนุจโุงุจ)
- [FAISS ฺุณุชุ ฺฉ ุฑุงูููุง ฺฉุงูู](#faiss-ฺุณุช-ฺฉ-ุฑุงูููุง-ฺฉุงูู)


## PM2 ฺุณุชุ

**PM2 (Process Manager 2)** ฺฉ ูุฏุฑุชโฺฉููุฏู process ุจุฑุง ุจุฑูุงููโูุง Node.js ุงุณุช ฺฉู:

### ๐ฏ ูุฒุงุง PM2:
- **ุฑุณุชุงุฑุช ุฎูุฏฺฉุงุฑ** ุงฺฏุฑ ุจุฑูุงูู crash ฺฉูุฏ
- **ูุงูุชูุฑูฺฏ** ูุถุนุช processes
- **ูุงฺฏโฺฏุฑ** ูุชูุฑฺฉุฒ
- **ุดุฑูุน ุฎูุฏฺฉุงุฑ** ูพุณ ุงุฒ ุฑุจูุช ุณุณุชู
- **ูุฏุฑุช ุญุงูุธู** ู CPU


### ๐ง ุฏุณุชูุฑุงุช ููู PM2:
```bash
# ุดุฑูุน ุจุฑูุงูู
pm2 start tunnel.js --name "tunnel"

# ูุดุงูุฏู ูุถุนุช
pm2 status

# ูุดุงูุฏู ูุงฺฏโูุง
pm2 logs tunnel

# ุชููู ุจุฑูุงูู
pm2 stop tunnel

# ุฑุณุชุงุฑุช
pm2 restart tunnel

# ุญุฐู ุงุฒ ูุณุช
pm2 delete tunnel

# ุฐุฎุฑู configuration
pm2 save
```

### โ๏ธ ฺุฑุง ุงุฒ PM2 ุงุณุชูุงุฏู ฺฉุฑุฏูุ
- ููุช LocalTunnel ูุทุน ูโุดูุฏุ PM2 ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุขู ุฑุง ุฑุณุชุงุฑุช ูโฺฉูุฏ
- ูุฏุฑุช ุจูุชุฑ ูุงฺฏโูุง ู ุฎุทุงูุง
- ุงูฺฉุงู ูุงูุชูุฑูฺฏ ุงุฒ ุฑุงู ุฏูุฑ

## ุชูุถุญุงุช tunnel.js

### ๐ ฺฉุฏ ฺฉุงูู:
```javascript
// tunnel.js
const { exec } = require('child_process');

console.log('๐ Starting localtunnel...');

const child = exec('npx localtunnel --port 5000 --subdomain hadisadoghiyazdi');

child.stdout.on('data', (data) => {
  const output = data.toString().trim();
  console.log(`[LT] ${output}`);
  
  if (output.includes('your url is:')) {
    console.log('โ Tunnel is ready! No password required.');
  }
});

child.stderr.on('data', (data) => {
  console.error(`[LT-ERROR] ${data.toString().trim()}`);
});

child.on('close', (code) => {
  console.log(`โ Tunnel exited with code ${code}`);
  process.exit(code || 1);
});
```

### ๐ ุชูุถุญ ุฎุท ุจู ุฎุท:

1. **ูุงุฑุฏ ฺฉุฑุฏู ูุงฺููโูุง**:
   ```javascript
   const { exec } = require('child_process');
   ```
   - ุจุฑุง ุงุฌุฑุง ุฏุณุชูุฑุงุช ุณุณุชู ุนุงูู

2. **ุงุฌุฑุง LocalTunnel**:
   ```javascript
   const child = exec('npx localtunnel --port 5000 --subdomain hadisadoghiyazdi');
   ```
   - ุงุฌุงุฏ ุชููู ุฑู ูพูุฑุช 5000
   - ุงุณุชูุงุฏู ุงุฒ subdomain ุซุงุจุช

3. **ูุฏุฑุช ุฎุฑูุฌ**:
   ```javascript
   child.stdout.on('data', (data) => {
     console.log(`[LT] ${output}`);
   });
   ```
   - ููุงุด ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ

4. **ูุฏุฑุช ุฎุทุงูุง**:
   ```javascript
   child.stderr.on('data', (data) => {
     console.error(`[LT-ERROR] ${data.toString().trim()}`);
   });
   ```
   - ููุงุด ุฎุทุงูุง ุณุณุชู

5. **ูุฏุฑุช ุจุณุชู ุดุฏู**:
   ```javascript
   child.on('close', (code) => {
     console.log(`โ Tunnel exited with code ${code}`);
     process.exit(code || 1);
   });
   ```
   - ููุช ุชููู ุจุณุชู ูโุดูุฏุ PM2 ุขู ุฑุง ุฑุณุชุงุฑุช ูโฺฉูุฏ

## ุฑูุด ุงุฌุฑุง

### ๐ ุฑุงูโุงูุฏุงุฒ ุณุฑุน:
1. **ูุงู `main.bat` ุฑุง ุงุฌุฑุง ฺฉูุฏ**
2. **ุตุจุฑ ฺฉูุฏ ุชุง ููู ุณุฑูุณโูุง ุฑุงูโุงูุฏุงุฒ ุดููุฏ**
3. **ูพุณูุฑุฏ ููุงุด ุฏุงุฏู ุดุฏู ุฑุง ฺฉูพ ฺฉูุฏ**
4. **ุจู ุขุฏุฑุณ `https://hadisadoghiyazdi.loca.lt` ุจุฑูุฏ**
5. **ูพุณูุฑุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ**

### ๐ ูุงู main.bat:
```batch
@echo off
cd /d "H:\HadiSadoghiYazdi\hadisadoghiyazdi1971.github.io\hadisadoghiyazdi1971.github.io\smart-repair-api"
title Smart Repair System

echo ========================================
echo ๐ Starting System
echo ========================================

echo Step 1: Starting Flask...
start "Flask Server" python app.py
timeout /t 3 >nul

echo Step 2: Stopping old tunnel (if exists)...
call pm2 delete tunnel >nul 2>&1
timeout /t 2 >nul

echo Step 3: Starting new tunnel with pm2...
call pm2 start tunnel.js --name "tunnel" --restart-delay 3000
timeout /t 8 >nul

echo Step 4: Getting password...
powershell -Command "(Invoke-WebRequest -Uri 'https://loca.lt/mytunnelpassword' -UseBasicParsing).Content.Trim()" > password.txt
set /p TUNNEL_PASSWORD=<password.txt

echo.
echo โ SYSTEM READY!
echo ๐ Flask: http://localhost:5000
echo ๐ Tunnel: https://hadisadoghiyazdi.loca.lt
echo ๐ Password: %TUNNEL_PASSWORD%
echo.
echo To view tunnel logs: pm2 logs tunnel
echo To stop tunnel: pm2 stop tunnel
echo.
pause
```

## ุนุจโุงุจ

### ๐ง ูุดฺฉูุงุช ุฑุงุฌ ู ุฑุงูโุญูโูุง:

1. **ุชููู ูุทุน ูโุดูุฏ**:
   - PM2 ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุฑุณุชุงุฑุช ูโฺฉูุฏ
   - ุฏุณุช: `pm2 restart tunnel`

2. **ูพุณูุฑุฏ ฺฉุงุฑ ููโฺฉูุฏ**:
   - ุฌุฏุฏ ุจฺฏุฑุฏ: `https://loca.lt/mytunnelpassword`
   - ุฏุฑ ูุงู `password.txt` ุฐุฎุฑู ูโุดูุฏ

3. **PM2 ฺฉุงุฑ ููโฺฉูุฏ**:
   - ุงุฒ `node tunnel.js` ูุณุชูู ุงุณุชูุงุฏู ฺฉูุฏ
   - ุง ุงุฒ `npx pm2` ุงุณุชูุงุฏู ฺฉูุฏ

4. **ูพูุฑุช 5000 ุช ุงุณุช**:
   - ุจุฑูุงููโูุง ุฏฺฏุฑ ุฑุง ุจุจูุฏุฏ
   - ุง ูพูุฑุช ุฑุง ุฏุฑ `app.py` ุชุบุฑ ุฏูุฏ

### ๐ ุฏุณุชูุฑุงุช ููุฏ ุจุฑุง ุฏุจุงฺฏ:
```bash
# ุจุฑุฑุณ processes
pm2 status

# ูุดุงูุฏู ูุงฺฏโูุง ุฒูุฏู
pm2 logs tunnel

# ุจุฑุฑุณ ูพูุฑุช
netstat -ano | findstr :5000

# ุจุฑุฑุณ ุณุฑูุณ Flask
curl http://localhost:5000/health
```

## ๐ฏ ูฺฉุงุช ููุง

- ุณุณุชู ุจุง **ุฏุชุงุจุณ ูุงูโูุญู** ฺฉุงุฑ ูโฺฉูุฏ
- **ุงุชุตุงู ุงูุชุฑูุช** ุจุง LocalTunnel ุจุฑูุฑุงุฑ ูโุดูุฏ
- **ูุฏุฑุช ุฎุทุง** ุจุง PM2 ุงูุฌุงู ูโุดูุฏ
- **ูพุณูุฑุฏ** ูุฑ 7 ุฑูุฒ ฺฉุจุงุฑ ุชุบุฑ ูโฺฉูุฏ


## FAISS ฺุณุชุ ฺฉ ุฑุงูููุง ฺฉุงูู

## ูุนุฑู ฺฉู
 
<a href="https://fa.wikipedia.org/wiki/%D9%BE%D8%A7%DB%8C%DA%AF%D8%A7%D9%87_%D8%AF%D8%A7%D8%AF%D9%87_%D8%A8%D8%B1%D8%AF%D8%A7%D8%B1%DB%8C#:~:text=FAISS%3A%20%DA%A9%D8%AA%D8%A7%D8%A8%D8%AE%D8%A7%D9%86%D9%87%E2%80%8C%D8%A7%DB%8C%20%D9%85%D9%86%D8%A8%D8%B9%E2%80%8C%D8%A8%D8%A7%D8%B2%20%DA%A9%D9%87%20%D8%AA%D9%88%D8%B3%D8%B7,%D8%AD%D8%AC%D9%85%20%D8%A8%D8%A7%D9%84%D8%A7%20%D8%B7%D8%B1%D8%A7%D8%AD%DB%8C%20%D8%B4%D8%AF%D9%87%20%D8%A7%D8%B3%D8%AA." style="text-decoration:none; color:green;" target="_blank">
      <strong>FAISS</strong>
    </a> (ูุฎูู Facebook AI Similarity Search) ฺฉ ฺฉุชุงุจุฎุงูู ุงููพูโุณูุฑุณ ุงุณุช ฺฉู ุชูุณุท ุชู AI Research ูุณุจูฺฉ (ูุชุง) ุชูุณุนู ุฏุงุฏู ุดุฏู ุงุณุช. ุงู ฺฉุชุงุจุฎุงูู ุจุฑุง **ุฌุณุชุฌู ุดุจุงูุช ุจุฑุฏุงุฑูุง** (Vector Similarity Search) ุจูููโุณุงุฒ ุดุฏู ุงุณุช.

## ูุดฺฉู ุงุตู ฺฉู FAISS ุญู ูโฺฉูุฏ
ููุช ุจุง ุฏุงุฏูโูุง ุจุฑุฏุงุฑ (Vector Data) ฺฉุงุฑ ูโฺฉูุฏ - ูุงููุฏ:
- ุงูุจุฏูฺฏโูุง ูุชู
- ุงูุจุฏูฺฏโูุง ุชุตูุฑ
- ุงูุจุฏูฺฏโูุง ุตูุช

ุฌุณุชุฌู ูุณุชูู ู ููุงุณู ุชูุงู ุจุฑุฏุงุฑูุง ุจุง ฺฉุฏฺฏุฑ ุจู ุฏูู **ูุดฺฉู ููุงุณโูพุฐุฑ** ุจุณุงุฑ ฺฉูุฏ ุงุณุช. FAISS ุงู ูุดฺฉู ุฑุง ุญู ูโฺฉูุฏ.

## ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏุ

### ุงูฺฏูุฑุชูโูุง ุงุตู
1. **ุงูุฏฺฉุณ ฺฉุฑุฏู** (Indexing):
   - ุจุฑุฏุงุฑูุง ุฑุง ุฏุฑ ุณุงุฎุชุงุฑูุง ุจูููโุดุฏู ุฐุฎุฑู ูโฺฉูุฏ
   - ุงุฒ ุชฺฉูฺฉโูุง ูุงููุฏ **ฺฉูุงูุชุฒุงุณูู** (Quantization) ุจุฑุง ูุดุฑุฏูโุณุงุฒ ุงุณุชูุงุฏู ูโฺฉูุฏ

2. **ุฌุณุชุฌู ุณุฑุน**:
   - ุงุฒ ุงูฺฏูุฑุชูโูุง ูุงููุฏ **IVF** (Inverted File Index)
   - **HNSW** (Hierarchical Navigable Small World)
   - **ูุญุงุณุจู ูุงุตูู** (Distance Calculation) ุจูููโุดุฏู

## ุงููุงุน ุงูุฏฺฉุณ ุฏุฑ FAISS

### ูพุงูโุง
- **IndexFlatL2**: ุฌุณุชุฌู ุฏูู ุจุง ูุงุตูู ุงููุฏุณ
- **IndexFlatIP**: ุฌุณุชุฌู ุฏูู ุจุง ุถุฑุจ ุฏุงุฎู

### ุจูููโุดุฏู ุจุฑุง ุญุงูุธู
- **IndexIVFFlat**: ุชุฑฺฉุจ ุฌุณุชุฌู ุชูุฑุจ ู ุฏูู
- **IndexPQ**: ูุดุฑุฏูโุณุงุฒ ูพุดุฑูุชู ุจุง Product Quantization

### ุชุฑฺฉุจ
- **IndexIVFPQ**: ุชุฑฺฉุจ IVF ู PQ ุจุฑุง ฺฉุงุฑุง ุจุงูุงุชุฑ

## ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

```bash
# ุจุฑุง CPU
pip install faiss-cpu

# ุจุฑุง GPU (ุงฺฏุฑ ฺฉุงุฑุช ฺฏุฑุงูฺฉ ุฏุงุฑุฏ)
pip install faiss-gpu
```

## ูุซุงู ุนูู ุณุงุฏู

```python
import faiss
import numpy as np

# ุชููุฏ ุฏุงุฏูโูุง ููููู
dimension = 128  # ุจุนุฏ ุจุฑุฏุงุฑูุง
num_vectors = 10000

# ุชููุฏ ุจุฑุฏุงุฑูุง ุชุตุงุฏู
vectors = np.random.random((num_vectors, dimension)).astype('float32')

# ุงุฌุงุฏ ุงูุฏฺฉุณ
index = faiss.IndexFlatL2(dimension)

# ุงูุฒูุฏู ุจุฑุฏุงุฑูุง ุจู ุงูุฏฺฉุณ
index.add(vectors)

# ุฌุณุชุฌู ูุดุงุจูโุชุฑู ุจุฑุฏุงุฑูุง
query_vector = np.random.random((1, dimension)).astype('float32')
k = 5  # ุชุนุฏุงุฏ ูุชุงุฌ
distances, indices = index.search(query_vector, k)

print("ูุดุงุจูโุชุฑู ุจุฑุฏุงุฑูุง:", indices)
print("ูุงุตููโูุง:", distances)
```

## ฺฉุงุฑุจุฑุฏูุง ุงุตู

### 1. ุณุณุชูโูุง RAG (Retrieval-Augmented Generation)
- ุจุงุฒุงุจ ุงุณูุงุฏ ูุฑุชุจุท ุจุฑุง ูุฏูโูุง ุฒุจุงู
- ุจูุจูุฏ ุฏูุช ูพุงุณุฎโูุง ChatGPT-like

### 2. ุฌุณุชุฌู ุชุตูุฑ
- ูพุฏุง ฺฉุฑุฏู ุชุตุงูุฑ ูุดุงุจู
- ุณุณุชูโูุง ุชูุตูโฺฏุฑ ุจุตุฑ

### 3. ุฌุณุชุฌู ูุชู
- ูพุฏุง ฺฉุฑุฏู ุงุณูุงุฏ ูุดุงุจู
- ุชุดุฎุต ูุญุชูุง ุชฺฉุฑุงุฑ

### 4. ุณุณุชูโูุง ุชูุตูโฺฏุฑ
- ูพุฏุง ฺฉุฑุฏู ุขุชูโูุง ูุดุงุจู
- ุชูุตูโูุง ุดุฎุตโุดุฏู

## ูุฒุงุง ฺฉูุฏ

### โ **ุณุฑุนุช ุจุณุงุฑ ุจุงูุง**
- ุจูููโุดุฏู ุจุฑุง ูพุฑุฏุงุฒุด ููุงุฒ
- ูพุดุชุจุงู ุงุฒ GPU ุจุฑุง ุณุฑุนุช ุจุดุชุฑ

### โ **ููุงุณโูพุฐุฑ**
- ุชูุงูุง ูุฏุฑุช ููููโูุง ุจุฑุฏุงุฑ
- ุงุณุชูุงุฏู ุจููู ุงุฒ ุญุงูุธู

### โ **ุงูุนุทุงูโูพุฐุฑ**
- ูพุดุชุจุงู ุงุฒ ุงููุงุน ุงูฺฏูุฑุชูโูุง ุฌุณุชุฌู
- ูุงุจู ุชูุธู ุจุฑุง ูุงุฒูุง ูุฎุชูู

### โ **ุณุงุฏฺฏ ุงุณุชูุงุฏู**
- API ุชูุฒ ู ูุณุชูุฏุงุช ุฎูุจ
- ุฌุงูุนู ฺฉุงุฑุจุฑ ูุนุงู

## ูุนุงุจ ู ูุญุฏูุฏุชโูุง

### โ **ููุท ุฐุฎุฑูโุณุงุฒ ุฏุฑ ุญุงูุธู**
- ุฏุงุฏูโูุง ุจุง ุจุณุชู ุดุฏู ุจุฑูุงูู ุงุฒ ุจู ูโุฑููุฏ
- ูุงุฒ ุจู ูุฏุฑุช ุฌุฏุงฺฏุงูู ุจุฑุง ุฐุฎุฑูโุณุงุฒ ูพุงุฏุงุฑ

### โ **ุนุฏู ูพุดุชุจุงู ุงุฒ ูุชุงุฏุชุง**
- ููุท ุจุฑุฏุงุฑูุง ุฑุง ุฐุฎุฑู ูโฺฉูุฏ
- ุจุฑุง ุฐุฎุฑู ุงุทูุงุนุงุช ุงุถุงู ูุงุฒ ุจู ุฑุงูโุญู ุฌุงูุจ ุฏุงุฑุฏ

### โ **ูุฏุฑุช ุฏุณุช**
- ูุงุฒ ุจู ุจุฑูุฒุฑุณุงู ุฏุณุช ุงูุฏฺฉุณ
- ุนุฏู ูุฌูุฏ ูุงุจูุชโูุง ุฎูุฏฺฉุงุฑ

## ููุงุณู ุจุง ุณุงุฑ ุงุจุฒุงุฑูุง

| ุงุจุฒุงุฑ | ููุน | ุจูุชุฑู ุงุณุชูุงุฏู |
|-------|-----|----------------|
| **FAISS** | ฺฉุชุงุจุฎุงูู | ูููููโุณุงุฒ ุณุฑุนุ ฺฉุงุฑุจุฑุฏูุง ุฎุงุต |
| **Pinecone** | ุณุฑูุณ ุงุจุฑ | ุชููุฏุ ููุงุณ ุจุฒุฑฺฏ |
| **Weaviate** | ุฏุชุงุจุณ ุจุฑุฏุงุฑ | ุจุฑูุงููโูุง ฺฉุงูู ุจุง ูุชุงุฏุชุง |
| **Chroma** | ุฏุชุงุจุณ ุจุฑุฏุงุฑ | ูพุฑูฺูโูุง ุณุงุฏู ุชุง ูุชูุณุท |

## ุฌูุนโุจูุฏ ููุง

FAISS ฺฉ **ุงุจุฒุงุฑ ุชุฎุตุต ู ูููโุงูุนุงุฏู ฺฉุงุฑุขูุฏ** ุจุฑุง:
- ุชูโูุง ุชุญููุงุช
- ูููููโุณุงุฒ ุณุฑุน
- ฺฉุงุฑุจุฑุฏูุง ุฎุงุต ุจุง ูุงุฒ ุจู ุนููฺฉุฑุฏ ุจุงูุง

ุงูุง ุจุฑุง **ุจุฑูุงููโูุง ุชููุฏ ุฏุฑ ููุงุณ ุจุฒุฑฺฏ**ุ ููฺฉู ุงุณุช ูุงุฒ ุจู ุฑุงูโุญูโูุง ฺฉุงููโุชุฑ ูุงููุฏ ุฏุชุงุจุณโูุง ุจุฑุฏุงุฑ ุชุฎุตุต ุฏุงุดุชู ุจุงุดุฏ.

**ุณุฎู ูพุงุงู:** FAISS ูุซู ฺฉ "ููุชูุฑ ุฌุณุชุฌู ุฎุงูุต" ุจุฑุง ุจุฑุฏุงุฑูุง ุงุณุช - ุณุฑุนุ ูุฏุฑุชููุฏุ ูู ูุงุฒ ุจู ุณุงุฎุช ุจุฏูู ุงุทุฑุงู ุขู ุฏุงุฑุฏ!